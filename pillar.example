elasticsearch:
  version: 2.4.2-1
  config:
    cluster.name: my-application
    node.name: node2
    node.rack: r2
    path.data: /srv/data
    path.logs: /srv/logs
    bootstrap.mlockall: true
    network.host: 127.0.0.1
    http.port: 9200
    discovery.zen.ping.unicast.hosts: ["host1", "host2"]
    discovery.zen.minimum_master_nodes: 3
    gateway.recover_after_nodes: 3
    node.max_local_storage_nodes: 1
    action.destructive_requires_name: true
  sysconfig:
    ES_STARTUP_SLEEP_TIME: 5
    ES_HEAP_SIZE: 8g
    MAX_OPEN_FILES: 65535
  plugins:
    lang-python: lang-python
    kopf: lmenezes/elasticsearch-kopf
  filebeat: !aggregate
    spool_size: 2048
    publish_async: false
    idle_timeout: 5s
    registry_file: ${path.data}/registry
    shutdown_timeout: 0
    prospectors: !aggregate
      log: !aggregate
        paths: !aggregate
          - /var/log/*.log
        encoding: plain
        exclude_lines: ["^DBG"]
        include_lines: ["^ERR", "^WARN"]
        exclude_files: [".gz$"]
        fields:
          level: debug
          review: 1
        fields_under_root: false
        ignore_older: 0
        document_type: log
        scan_frequency: 10s
        harvester_buffer_size: 16384
        max_bytes: 10485760
        json.message_key:
        json.keys_under_root: false
        json.overwrite_keys: false
        json.add_error_key: false
        multiline.pattern: ^\[
        multiline.negate: false
        multiline.match: after
        multiline.max_lines: 500
        multiline.timeout: 5s
        tail_files: false
        pipeline:
        symlinks: false
        backoff: 1s
        max_backoff: 10s
        backoff_factor: 2
        harvester_limit: 0
        close_inactive: 5m
        close_renamed: false
        close_removed: true
        close_eof: false
        clean_inactive: 0
        clean_removed: true
        close_timeout: 0
        enabled: true
      
